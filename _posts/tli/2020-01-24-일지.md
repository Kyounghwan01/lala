---
layout: post
title: "[TLI] 20.01.06 ~ 20.01.23"
date: 2020-01-23
excerpt: "해당 기간 동안 근무일지"
tag:
- TLI
category: [TLI]
feature: https://kyounghwan01.github.io/lala/assets/img/title/bj_title.jpg
comments: false



---

### 1.6

- staging 반영

- web staging 반영되었습니다.

  \- [SM-1736] 수강권별로 예약가능한 시간 설정

  \- [SM-1937] 기간제 예약 취소 가능 횟수 설정

  1. 회원의 기간제 취소 횟수 보임 또는 안보임 변경이력표시\
  2. 취소 가능 횟수 문구 수정
  3. 기간제수강권 티켓요약 정보 수정 (전체, 잔여, 예약가능 횟수 사항 제거)
  4. 수강권 취소가능횟수 일괄 표시 제거 또는 보이기 (edited) 



### 1.7

- sms 언제까지 완료되는지 알려주기 (15일 예정이라 말함)
  - api 부재로 작업 딜레이 되는 상황

### 1.8

- 예약 / 취소 기간 별 시간 범위 헬퍼 function 로직 분리

### 1.9

- 매출페이지 원하는 기간 선택하여 조회 지라 받음 ( open )
- 회원 엑셀 다운로드시 수강권 종류 넣도록

### 1.10

- 일정 탭에 보이는 회원들이 만료회원인 경우 만료 표시가 있으면 한다
  - inactiveMember 의 값이 있으면 만료회원 아니면 정상 
- 담당 강사에 정지 회원도 보이면 한다
  - isHolding을 api 호출 param에 넣어 정지회원임을 알리고, holding된 사람도 담당강사로 할당되도록 수정
- window 사용자의 경우 크롬창에서 계속 새창이 뜬다.
  - 원인 파악 못함 
  - auth 로직에서 계속 새탭을 띄우는 것 같다는 의견
  - ms edge가 크롬 엔진을 쓰도록 바뀌었는데, edge 쓰도록 권장하고 그때도 팝업이 뜬다면 이건 우리의 로직의 문제, 아니면 크롬의 문제

### 1.13

- 매출페이지 원하는 기간 선택하여 조회 코드 분석
  - 기존은 day, week, month이였으나 원하는 기간으로 자르도록 
  - 문제 : 위 처럼 끝 날이 정해진 경우 (day는 다음날이 end, week은 그주 마지막날이 end) moment.js를 통해 자동으로 끝날을 받아오도록 설정 되어있는데, 기간의 경우 끝날이 임의 지정이라 위 로직을 따를 수 없음. 새로운 로직을 만들어 분기처리할 것이 요구됨
- 예약 가능 / 취소 릴리즈 3월 초로 잠정 연기 (회원 앱 업데이트가 많다는 민심)
- 스튜디오 오너만 엑셀 다운도르 버튼이 보이도록 변경

### 1.14

- 3월 초 예정된 릴리즈 staging 올리기
  - 엑셀 다운로드 오너만 하도록
  - 회원 필터 개선 (일정 - 만료 회원 표시)
- hotfix 엑셀 만료된 수강권 누르지 않으면 사용중, 사용 예정인 회원만 다운로드 되도록

### 1.15

- 매출페이지 원하는 기간 선택하여 조회 작업

  - 기간이 주어지면 각각 하루씩 데이터를 호출하여 배열에 담은 후, 기존 로직에 부합하게 데이터를 만든다 
  - css 이슈 : 기간별로 매출을 조회하면 달력이 시작 1개 끝 1개가 생기는 데, 이때 달력의 포지션이 left : 0, top : 0으로 고정됨
    - 달력 el-date-picker상위에 div를 감싸 해결 (이유는 모르갰움,,)

- aws의 appsync를 활용한 graphql 수업 수강

  - 자료를 바꾸고 바뀐 자료를 가져오는 작업을 원래는 아래외 같이 3개 api 호출해야하나
    - 바꿀 자료 가져오기
    - 바꾸기
    - 바뀐 자료 가져오기

  - graphql은 1번의 api호출로 모두 해결 가능하다

- 백엔드의 api가 바뀌면 프론트도 그에 따라 변수 및 로직이 바뀌어야하나 grapql은 api가 바뀌어도 기존 사용되던 로직은 보장이 되고, 새로 추가되는 로직만 보강하면 된다

  - 프론트와 서버간 의존성이 낮아진다



### 1.16~17

- 워크숍

### 1.20

- 트렐로 sms 일정 계획 수립
- 트렐로 출석 일정 계획 수립
- 하루종일 출석, sms, 스프린트, 위클리 회의만 한날
- 결제화면 - 기존 건수 -> point제로 정책 변경
- 앱 푸시, 메시지 탭 나누기

### 1.21

- 나눈 메시지 탭에서 메시지 보내기, 보낸 메시지 탭 나누기
  - this.$route.name에 따라 보여지는 탭을 구분
- sms byte check helper function 작성
  - 90바이트 이상 작성시 lms로 작성되고 37포인트 사용됨 알림
  - 2000바이트 이상 작성시 더이상 작성 못하도록 막기
- 새로 고침시 vuex에 담긴 정보가 초기회 되는 이슈 
  - vuex-persistedstate 플러그인으로 해결
    - vuex에 담기는 정보를 로컬스토리지에 담아 새로고침하여 vuex에 정보가 없으면 로컬스토리지의 값을 불러온다
  - path를 주지 않고 전역적으로 스토리지에 저장하여 웹 성능이 매우 낮아짐 이슈
    - Path : [setting] : []에 저장할 store의 이름을 넣어 해당 store만 저장되도록 해결

- npm install이 안되는 이슈
  - grpc의 문제인 것으로 예상되나 해결 못함
  - rm -rf node_module로 모두 삭제후, yarn instll을 하면 진행되다가 grpc에서 waiting이 되는데 그때 설치를 중지하고, yarn start하면 원하는 대로 작동됨 (원인 파악 못함 - npm 충돌로 의심)



### 1.22

- 수업 일괄 수정시 예약 타입이 설정에 있는 값으로 보정 안되는 이슈
  - 예약 / 취소 시간 타입을 나눈 것의 side effect
  - 백엔드 작업 중 -> 제대로 시간은 바뀌나 체크하지 않은 값 마저 반영됨



### 1.23

- 날짜 스타일 변경
  - 2020-01-23 -> 2020.1.23
- sms 백엔드 작업 요구
  - Sms api 추가되어야 할점 확인 - pagenation을 위한 사전 작업(totalCount , sms type - send, charge 등등.. ). 기존 push message와 sms가 다른 params을 사용하고 있었음



